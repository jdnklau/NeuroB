apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'maven'

project.version = '0.6.3'
project.group = 'de.hhu.stups'
project.archivesBaseName = "NeuroB"

project.sourceCompatibility = '1.8'
project.targetCompatibility = '1.8'


repositories {
	mavenCentral()
    maven {
		name "sonatype snapshots"
		url "https://oss.sonatype.org/content/repositories/snapshots"
	}
	maven {
		name "sonatype releases"
		url "https://oss.sonatype.org/content/repositories/releases"
	}
}

dependencies {

	compile 'commons-cli:commons-cli:1.2'
	compile (group: 'de.hhu.stups', name: 'de.prob2.kernel', version: '2.0.3-SNAPSHOT')
	
	compile 'org.deeplearning4j:deeplearning4j-core:0.6.0'
	compile 'org.nd4j:nd4j-native-platform:0.6.0'
}

configurations {
    all*.exclude group: 'org.bytedeco', module: 'javacpp-presets'
}

task wrapper(type:Wrapper) {
	gradleVersion = '3.0'
}

sourceSets {
	main {
		java {
			srcDir 'src'
		}
	}
}

task NeuroBCliJar(type: Jar) {
	manifest {
        attributes 'Implementation-Title': 'Training Set Generation',
        	'Implementation-Version': version,
        	'Main-Class': 'NeuroBCli'
    }
    baseName = project.name
    appendix = 'cli'
	from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }
	with jar
}

task buildJars {
	dependsOn NeuroBCliJar
}


